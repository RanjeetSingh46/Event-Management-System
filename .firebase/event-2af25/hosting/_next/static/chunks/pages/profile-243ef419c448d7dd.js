(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{9344:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return n(5146)}])},5146:function(e,t,n){"use strict";n.r(t);var r=n(5893),i=n(7294),s=n(3349),a=n(1065),l=n(109),c=n(7963),o=n(7747),u=n(3560),d=n(2757),m=n(4e3),f=n(4225);t.default=()=>{let[e]=(0,s.F_)(a.I),[t,n]=(0,i.useState)(null),[x,h]=(0,i.useState)([]),[p,g]=(0,i.useState)(!0),y=(0,c.p)();(0,i.useEffect)(()=>{(async()=>{if(e)try{let t=(0,l.JU)(a.db,"users",e.uid),r=await (0,l.QT)(t);if(r.exists())n(r.data());else{let r={name:e.displayName||"New User",email:e.email,events:[]};await (0,l.pl)(t,r),n(r)}let i=(0,l.IO)((0,l.hJ)(a.db,"events"),(0,l.ar)("attendees","array-contains",e.uid),(0,l.Xo)("date","desc"),(0,l.b9)(10)),s=await (0,l.PL)(i);h(s.docs.map(e=>({id:e.id,...e.data()})))}catch(e){y({title:"Error fetching data",description:e.message,status:"error",duration:3e3,isClosable:!0})}finally{g(!1)}else g(!1)})()},[e,y]);let j=async()=>{try{await a.I.signOut(),y({title:"Signed out successfully",status:"success",duration:3e3,isClosable:!0})}catch(e){y({title:"Error signing out",description:e.message,status:"error",duration:3e3,isClosable:!0})}};return p?(0,r.jsx)("div",{children:"Loading..."}):e&&t?(0,r.jsx)(o.xu,{children:(0,r.jsxs)(u.g,{spacing:4,align:"stretch",children:[(0,r.jsx)(d.X,{children:"User Profile"}),(0,r.jsxs)(m.x,{children:["Name: ",t.name]}),(0,r.jsxs)(m.x,{children:["Email: ",t.email]}),(0,r.jsx)(f.z,{onClick:j,colorScheme:"red",children:"Sign Out"}),(0,r.jsx)(d.X,{size:"md",mt:6,children:"Your Events"}),x.length>0?x.map(e=>(0,r.jsxs)(o.xu,{p:2,borderWidth:1,borderRadius:"md",children:[(0,r.jsx)(m.x,{fontWeight:"bold",children:e.title}),(0,r.jsx)(m.x,{children:e.description}),(0,r.jsx)(m.x,{fontSize:"sm",color:"gray.500",children:new Date(e.date).toLocaleString()}),(0,r.jsxs)(m.x,{fontSize:"sm",children:["Location: ",e.location]})]},e.id)):(0,r.jsx)(m.x,{children:"No events found."})]})}):(0,r.jsx)("div",{children:"User not found"})}},3951:function(e,t,n){"use strict";n.d(t,{XQ:function(){return i}});var r=n(5432);function i(e,t){return Array.isArray(e)?e.map(e=>null===e?null:t(e)):(0,r.Kn)(e)?Object.keys(e).reduce((n,r)=>(n[r]=t(e[r]),n),{}):null!=e?t(e):null}Object.freeze(["base","sm","md","lg","xl","2xl"])},4225:function(e,t,n){"use strict";n.d(t,{z:function(){return p}});var r=n(7294),[i,s]=(0,n(5227).k)({strict:!1,name:"ButtonGroupContext"}),a=n(6914),l=n(5432),c=n(5893);function o(e){let{children:t,className:n,...i}=e,s=(0,r.isValidElement)(t)?(0,r.cloneElement)(t,{"aria-hidden":!0,focusable:!1}):t,o=(0,l.cx)("chakra-button__icon",n);return(0,c.jsx)(a.m.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...i,className:o,children:s})}o.displayName="ButtonIcon";var u=n(1136);function d(e){let{label:t,placement:n,spacing:i="0.5rem",children:s=(0,c.jsx)(u.$,{color:"currentColor",width:"1em",height:"1em"}),className:o,__css:d,...m}=e,f=(0,l.cx)("chakra-button__spinner",o),x="start"===n?"marginEnd":"marginStart",h=(0,r.useMemo)(()=>({display:"flex",alignItems:"center",position:t?"relative":"absolute",[x]:t?i:0,fontSize:"1em",lineHeight:"normal",...d}),[d,t,x,i]);return(0,c.jsx)(a.m.div,{className:f,...m,__css:h,children:s})}d.displayName="ButtonSpinner";var m=n(1103),f=n(6554),x=n(7030),h=n(3179),p=(0,f.G)((e,t)=>{let n=s(),i=(0,x.mq)("Button",{...n,...e}),{isDisabled:o=null==n?void 0:n.isDisabled,isLoading:u,isActive:f,children:p,leftIcon:y,rightIcon:j,loadingText:b,iconSpacing:_="0.5rem",type:v,spinner:N,spinnerPlacement:k="start",className:S,as:w,...E}=(0,h.Lr)(e),C=(0,r.useMemo)(()=>{let e={...null==i?void 0:i._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...i,...!!n&&{_focus:e}}},[i,n]),{ref:B,type:W}=function(e){let[t,n]=(0,r.useState)(!e);return{ref:(0,r.useCallback)(e=>{e&&n("BUTTON"===e.tagName)},[]),type:t?"button":void 0}}(w),L={rightIcon:j,leftIcon:y,iconSpacing:_,children:p};return(0,c.jsxs)(a.m.button,{ref:(0,m.qq)(t,B),as:w,type:null!=v?v:W,"data-active":(0,l.PB)(f),"data-loading":(0,l.PB)(u),__css:C,className:(0,l.cx)("chakra-button",S),...E,disabled:o||u,children:[u&&"start"===k&&(0,c.jsx)(d,{className:"chakra-button__spinner--start",label:b,placement:"start",spacing:_,children:N}),u?b||(0,c.jsx)(a.m.span,{opacity:0,children:(0,c.jsx)(g,{...L})}):(0,c.jsx)(g,{...L}),u&&"end"===k&&(0,c.jsx)(d,{className:"chakra-button__spinner--end",label:b,placement:"end",spacing:_,children:N})]})});function g(e){let{leftIcon:t,rightIcon:n,children:r,iconSpacing:i}=e;return(0,c.jsxs)(c.Fragment,{children:[t&&(0,c.jsx)(o,{marginEnd:i,children:t}),r,n&&(0,c.jsx)(o,{marginStart:i,children:n})]})}p.displayName="Button"},4e3:function(e,t,n){"use strict";n.d(t,{x:function(){return o}});var r=n(6554),i=n(7030),s=n(3179),a=n(6914),l=n(5432),c=n(5893),o=(0,r.G)(function(e,t){let n=(0,i.mq)("Text",e),{className:r,align:o,decoration:u,casing:d,...m}=(0,s.Lr)(e),f=function(e){let t=Object.assign({},e);for(let e in t)void 0===t[e]&&delete t[e];return t}({textAlign:e.align,textDecoration:e.decoration,textTransform:e.casing});return(0,c.jsx)(a.m.p,{ref:t,className:(0,l.cx)("chakra-text",e.className),...f,...m,__css:n})});o.displayName="Text"},2757:function(e,t,n){"use strict";n.d(t,{X:function(){return o}});var r=n(6554),i=n(7030),s=n(3179),a=n(6914),l=n(5432),c=n(5893),o=(0,r.G)(function(e,t){let n=(0,i.mq)("Heading",e),{className:r,...o}=(0,s.Lr)(e);return(0,c.jsx)(a.m.h2,{ref:t,className:(0,l.cx)("chakra-heading",e.className),...o,__css:n})});o.displayName="Heading"},3560:function(e,t,n){"use strict";n.d(t,{g:function(){return d}});var r=n(6914),i=n(5893),s=e=>(0,i.jsx)(r.m.div,{className:"chakra-stack__item",...e,__css:{display:"inline-block",flex:"0 0 auto",minWidth:0,...e.__css}});s.displayName="StackItem";var a=n(3951),l=n(7294),c=n(5432),o=n(6554),u=(0,o.G)((e,t)=>{let{isInline:n,direction:o,align:u,justify:d,spacing:m="0.5rem",wrap:f,children:x,divider:h,className:p,shouldWrapChildren:g,...y}=e,j=n?"row":null!=o?o:"column",b=(0,l.useMemo)(()=>(function(e){let{spacing:t,direction:n}=e,r={column:{my:t,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:t,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:t,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:t,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":(0,a.XQ)(n,e=>r[e])}})({spacing:m,direction:j}),[m,j]),_=!!h,v=!g&&!_,N=(0,l.useMemo)(()=>{let e=l.Children.toArray(x).filter(e=>(0,l.isValidElement)(e));return v?e:e.map((t,n)=>{let r=void 0!==t.key?t.key:n,a=n+1===e.length,c=(0,i.jsx)(s,{children:t},r),o=g?c:t;if(!_)return o;let u=(0,l.cloneElement)(h,{__css:b});return(0,i.jsxs)(l.Fragment,{children:[o,a?null:u]},r)})},[h,b,_,v,g,x]),k=(0,c.cx)("chakra-stack",p);return(0,i.jsx)(r.m.div,{ref:t,display:"flex",alignItems:u,justifyContent:d,flexDirection:j,flexWrap:f,gap:_?void 0:m,className:k,...y,children:N})});u.displayName="Stack";var d=(0,o.G)((e,t)=>(0,i.jsx)(u,{align:"center",...e,direction:"column",ref:t}));d.displayName="VStack"},7747:function(e,t,n){"use strict";n.d(t,{xu:function(){return a}});var r=n(6914),i=n(6554),s=n(5893),a=(0,r.m)("div");a.displayName="Box";var l=(0,i.G)(function(e,t){let{size:n,centerContent:r=!0,...i}=e;return(0,s.jsx)(a,{ref:t,boxSize:n,__css:{...r?{display:"flex",alignItems:"center",justifyContent:"center"}:{},flexShrink:0,flexGrow:0},...i})});l.displayName="Square",(0,i.G)(function(e,t){let{size:n,...r}=e;return(0,s.jsx)(l,{size:n,ref:t,borderRadius:"9999px",...r})}).displayName="Circle"},1103:function(e,t,n){"use strict";n.d(t,{lq:function(){return i},qq:function(){return s}});var r=n(7294);function i(...e){return t=>{e.forEach(e=>{!function(e,t){if(null!=e){if("function"==typeof e){e(t);return}try{e.current=t}catch(n){throw Error(`Cannot assign value '${t}' to ref '${e}'`)}}}(e,t)})}}function s(...e){return(0,r.useMemo)(()=>i(...e),e)}},7963:function(e,t,n){"use strict";n.d(t,{p:function(){return l}});var r=n(3952),i=n(2321),s=n(7634),a=n(7294);function l(e){let{theme:t}=(0,s.uP)(),n=(0,r.OX)();return(0,a.useMemo)(()=>(0,i.Cj)(t.direction,{...n,...e}),[e,t.direction,n])}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=9344)}),_N_E=e.O()}]);